## 组件化设计思想

### 组件化开发意义

  - 组件化是对实现的分层，是更有效地代码组合方式

  - 组件化是对资源的重组和优化，从而使项目资源管理更合理

  - 组件化有利于单元测试

  - 组件化对重构较友好

### 组件与模块
  - 模块通常强调的是职责(分离、内聚)，组件是可复用模块和相关依赖的封装。

### 组件定义
  - 可复用的模块，完成既定功能

  - 有明确的接口规范

  - 有上下文依赖、外部依赖资源的定义

  - 可以独立发布

### 组件设计原则
  - 适用单一职责原则

  - 适用开放封闭原则

  - 追求短小精悍

  - 避免太多参数

  - 缩小信赖范围和向稳定方向信赖

  - 适用SPOT法则(Single Point Of Truth)，就是尽量不要重复代码

  - 追求无副作用

  - 追求引用透明

  - 避免暴露组件内部实现

  - 避免直接操作DOM

  - 入口处检查参数的有效性，出口处检查返回的正确性

  - 充分隔离变化的部分

  - 组件和数据分享，信赖一致性的数据结构

### 设计组件自省问题
  - 这个组件可否(有必要)再分?

  - 这个组件的依赖是否可再缩减?

  - 这个组件是否对其他组件造成侵入?

  - 这个组件可否复用于其他类似场景中?

  - 这个组件当别人用时，会怎么想?

  - 假如业务需要不需要这个功能，是否方便清除?