<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
     <script>
         function Parent(name){
             this.name = name;
             this.colors = ['white', 'red'];
         }

         Parent.prototype.eat = function(){
             console.log('---eat---');
         };

         function Child(name, age){
            // 借用构造函数继承方式，增强子类实例属性====支持传参、避免篡改
            Parent.call(this, name);
            this.age = age;
         }

         // 继承父类构造函数所指向的原型对象的方法和属性===将子类prototype与父类的prototype通过一个中间对象进行关联
         function inheritParentPrototype(child, parent){
            var midObj = Object.create(parent.prototype);
            midObj.constructor = child;
            child.prototype = midObj;
         }
         /*
            寄生组合式继承
                
                    优点: 
                        只会调用一次Parent
                        避免在Child.prototype上创建不必要的属性或方法
                        原型链保持不变

         */
         inheritParentPrototype(Child, Parent);

         Child.prototype.run = function(){
             console.log('---run----');
         };

         var instance1 = new Child('conk', 18);
         instance1.colors.push('yellow');
         console.log(instance1.colors); 
         console.dir(instance1);

         var instance2 = new Child('pht', 20);
         instance2.colors.push('blue');
         console.log(instance2.colors);
         console.dir(instance2);
     </script>

      <!-- 
      <script>
          class Parent {
            constructor(name, color){
                this.name = name;
                this.color = color;
            }

            get nameColor(){
                return this.calcNameColor();
            }

            calcNameColor(){
                return this.name + '====' + this.color;
            }
          }

          class Child extends Parent {
              constructor(name, color, age){
                  super(name, color);
                  this.age = age;
              }

              get nameColor(){
                  return this.name + '====' + this.color + '=====' + this.age;
              }
          }

          var childInstance = new Child('conk', ['red', 'white'], 18);
          console.log(childInstance.nameColor);
          console.dir(childInstance);

          var childInstance2 = new Child('pht', ['red', 'white', 'blue'], 20);
          console.log(childInstance2.nameColor);
          console.dir(childInstance2);
      </script>
       -->
</body>
</html>